# CSV 병합/제거 도구

이메일 기준으로 CSV 파일을 합치거나 제거할 수 있는 웹 애플리케이션입니다.

<img width="800" alt="image" src="https://github.com/user-attachments/assets/f7a8282f-785d-40fe-aec5-792a157915bd" />


## 주요 기능

- 📁 **파일 업로드**: 드래그앤드롭 또는 파일 선택으로 CSV 파일 업로드
- 👀 **데이터 미리보기**: 업로드된 데이터의 상위 10개 미리보기
- ➕ **합치기**: 이메일 기준으로 중복 제거하며 데이터 합치기
- ➖ **빼기**: 이메일 기준으로 데이터 제거
- 💾 **데이터 유지**: 새 파일 업로드 시에도 합쳐진 데이터 유지
- 📥 **다운로드**: 정리된 데이터를 CSV 파일로 다운로드
- 🌐 **EUC-KR 지원**: EUC-KR 인코딩 파일 읽기/쓰기 지원
- 📋 **헤더 자동 감지**: CSV 헤더 유무 자동 감지

## 사용 방법

### 1. 파일 업로드

- 드래그앤드롭: CSV 파일을 드롭존에 드래그하여 놓기
- 파일 선택: "파일 선택" 버튼 클릭하여 파일 선택

### 2. 데이터 확인

- 업로드된 데이터의 상위 10개가 미리보기 테이블에 표시됩니다
- 총 데이터 개수가 표시됩니다

### 3. 작업 선택

#### 합치기
- "합치기" 버튼 클릭
- 이메일 기준으로 중복 제거하며 데이터를 합칩니다
- 이미 존재하는 이메일은 추가되지 않습니다

#### 빼기
- "빼기" 버튼 클릭
- 현재 업로드된 파일의 이메일과 일치하는 데이터를 제거합니다
- 먼저 합치기를 수행한 후 사용해야 합니다

### 4. 다운로드

- "정리된 데이터 다운로드" 버튼 클릭
- 합쳐진 데이터가 CSV 파일로 다운로드됩니다
- 파일명: `merged_data_YYYY-MM-DD.csv`

### 5. 전체 초기화

- "전체 초기화" 버튼 클릭
- 모든 데이터(합쳐진 데이터 포함)가 초기화됩니다

## CSV 파일 형식

### 지원 형식

```csv
"name","email"
홍길동,hong@example.com
김철수,kim@example.com
```

또는 헤더 없이:

```csv
홍길동,hong@example.com
김철수,kim@example.com
```

### 필드 설명

- **name**: 이름 (선택 사항, 비어있어도 됨)
- **email**: 이메일 주소 (필수)

### 주의사항

- 이름이 비어있어도 이메일만 있으면 처리됩니다
- 이메일은 유효성 검사를 거칩니다
- 헤더가 있으면 자동으로 감지하여 건너뜁니다

## 인코딩 지원

### 입력 파일
- **EUC-KR**: 기본 인코딩으로 가정하고 읽습니다
- UTF-8: EUC-KR 디코딩 실패 시 자동으로 시도

### 출력 파일
- **EUC-KR**: 기본 인코딩으로 저장됩니다
- 최신 브라우저(Chrome, Edge 등)에서 지원
- 지원하지 않는 브라우저에서는 UTF-8로 저장됩니다

## 기술 스택

- HTML5
- CSS3
- Vanilla JavaScript
- FileReader API
- TextDecoder/TextEncoder API
- TextEncoderStream API (최신 브라우저)

## 브라우저 호환성

- Chrome (최신 버전)
- Edge (최신 버전)
- Firefox (최신 버전)
- Safari (최신 버전)

**참고**: EUC-KR 인코딩은 최신 Chrome, Edge에서만 완전히 지원됩니다.

## 파일 구조

```
csv_merge/
├── index.html      # 메인 HTML 파일
├── style.css       # 스타일시트
├── script.js       # JavaScript 로직
└── README.md       # 이 파일
```

## 사용 예시

### 시나리오 1: 여러 파일 합치기

1. 첫 번째 CSV 파일 업로드
2. "합치기" 버튼 클릭
3. 두 번째 CSV 파일 업로드
4. "합치기" 버튼 클릭
5. "정리된 데이터 다운로드" 버튼으로 결과 다운로드

### 시나리오 2: 특정 데이터 제거

1. 전체 데이터가 포함된 CSV 파일 업로드
2. "합치기" 버튼 클릭
3. 제거할 데이터가 포함된 CSV 파일 업로드
4. "빼기" 버튼 클릭
5. "정리된 데이터 다운로드" 버튼으로 결과 다운로드

## 주의사항

- 이메일 주소는 소문자로 변환되어 처리됩니다
- 중복된 이메일은 자동으로 제거됩니다
- 합쳐진 데이터는 새 파일을 업로드해도 유지됩니다
- 전체 초기화를 하지 않는 한 합쳐진 데이터는 계속 누적됩니다

## 라이선스

이 프로젝트는 자유롭게 사용할 수 있습니다.

